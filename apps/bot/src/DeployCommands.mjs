// Generated by ReScript, PLEASE EDIT WITH CARE

import * as Env from "./Env.mjs";
import * as $$Promise from "../../../node_modules/@ryyppy/rescript-promise/src/Promise.mjs";
import * as Rest from "@discordjs/rest";
import * as Caml_exceptions from "../../../node_modules/rescript/lib/es6/caml_exceptions.js";
import * as V9 from "discord-api-types/v9";
import * as Commands_ExampleCommand from "./commands/Commands_ExampleCommand.mjs";

var DeployCommandsError = /* @__PURE__ */Caml_exceptions.create("DeployCommands.DeployCommandsError");

var Rest$1 = {};

var Routes = {};

Env.createEnv(undefined);

var envConfig = Env.getConfig(undefined);

var envConfig$1;

if (envConfig.TAG === /* Ok */0) {
  envConfig$1 = envConfig._0;
} else {
  throw {
        RE_EXN_ID: Env.EnvError,
        _1: envConfig._0,
        Error: new Error()
      };
}

var token = envConfig$1.discordApiToken;

var clientId = envConfig$1.discordClientId;

var exampleCommand = Commands_ExampleCommand.data.toJSON();

var commands = [exampleCommand];

var rest = new Rest.REST({
        version: 9
      }).setToken(token);

var applicationGuildCommands = V9.Routes.applicationCommands(clientId);

$$Promise.$$catch(rest.put(applicationGuildCommands, {
            body: commands
          }).then(function (param) {
          console.log("Successfully registered application commands.");
          
        }), (function (e) {
        if (e.RE_EXN_ID === DeployCommandsError) {
          console.error("Deploy Commands Error:" + e._1);
        } else if (e.RE_EXN_ID === $$Promise.JsError) {
          var msg = e._1.message;
          if (msg !== undefined) {
            console.error("Deploy Commands Error: " + msg);
          } else {
            console.error("Must be some non-error value");
          }
        } else {
          console.error("Some unknown error");
        }
        return Promise.resolve(undefined);
      }));

export {
  DeployCommandsError ,
  Rest$1 as Rest,
  Routes ,
  envConfig$1 as envConfig,
  token ,
  clientId ,
  exampleCommand ,
  commands ,
  rest ,
  applicationGuildCommands ,
  
}
/*  Not a pure module */
