// Generated by ReScript, PLEASE EDIT WITH CARE

import * as React from "react";
import * as Remix from "remix";
import * as Belt_Array from "../../../../node_modules/rescript/lib/es6/belt_Array.js";
import * as InviteButton from "./InviteButton.js";
import * as ReactProSidebar from "react-pro-sidebar";

var ConnectButton = {};

function Sidebar(Props) {
  var toggled = Props.toggled;
  var handleToggleSidebar = Props.handleToggleSidebar;
  var guilds = Props.guilds;
  var loadingGuilds = Props.loadingGuilds;
  var icon = function (param) {
    var icon$1 = param.icon;
    if (icon$1 !== undefined) {
      return "https://cdn.discordapp.com/icons/" + param.id + "/" + icon$1 + ".png";
    } else {
      return "/assets/brightid_logo_white.png";
    }
  };
  var sidebarElements;
  if (loadingGuilds) {
    var intersection = Belt_Array.map(guilds, (function (guild) {
            return React.createElement(ReactProSidebar.Menu, {
                        children: React.createElement(ReactProSidebar.MenuItem, {
                              children: React.createElement(Remix.Link, {
                                    className: "font-semibold text-xl",
                                    prefetch: "intent",
                                    to: "/guilds/" + guild.id + "",
                                    children: guild.name
                                  }),
                              className: "bg-extraDark",
                              icon: React.createElement("img", {
                                    className: " bg-extraDark rounded-lg border-1 border-white",
                                    src: icon(guild)
                                  })
                            }),
                        iconShape: "square",
                        key: guild.id
                      });
          }));
    var loading = Belt_Array.map(Belt_Array.range(0, 4), (function (i) {
            return React.createElement(ReactProSidebar.Menu, {
                        children: React.createElement(ReactProSidebar.MenuItem, {
                              children: React.createElement("div", {
                                    className: "flex flex-col space-y-3"
                                  }, React.createElement("div", {
                                        className: "w-36 bg-gray-300 h-6 rounded-md "
                                      })),
                              className: "flex animate-pulse flex-row h-full bg-extraDark ",
                              icon: React.createElement("img", {
                                    className: " bg-extraDark  rounded-lg",
                                    src: "/assets/brightid_logo_white.png"
                                  })
                            }),
                        iconShape: "square",
                        key: String(i + 1 | 0)
                      });
          }));
    sidebarElements = Belt_Array.concat(intersection, loading);
  } else if (guilds.length !== 0) {
    var match = guilds.length;
    sidebarElements = match !== 0 ? Belt_Array.map(guilds, (function (guild) {
              return React.createElement(ReactProSidebar.Menu, {
                          children: React.createElement(ReactProSidebar.MenuItem, {
                                children: React.createElement(Remix.Link, {
                                      className: "font-semibold text-xl",
                                      prefetch: "intent",
                                      to: "/guilds/" + guild.id + "",
                                      children: guild.name
                                    }),
                                className: "bg-extraDark",
                                icon: React.createElement("img", {
                                      className: " bg-extraDark rounded-lg border-1 border-white",
                                      src: icon(guild)
                                    })
                              }),
                          iconShape: "square",
                          key: guild.id
                        });
            })) : React.createElement("p", {
            className: "text-white"
          }, "No Guilds");
  } else {
    sidebarElements = React.createElement("p", {
          className: "text-white"
        }, "Couldn't Load Discord Servers");
  }
  return React.createElement(ReactProSidebar.ProSidebar, {
              children: null,
              className: "bg-dark scrollbar-hide",
              breakPoint: "md",
              onToggle: handleToggleSidebar,
              toggled: toggled
            }, React.createElement(ReactProSidebar.SidebarHeader, {
                  children: React.createElement(InviteButton.make, {}),
                  className: "p-2 flex justify-around items-center top-0 sticky bg-dark z-10 scrollbar-hide"
                }), React.createElement(ReactProSidebar.SidebarContent, {
                  children: null,
                  className: "scrollbar-hide"
                }, React.createElement(ReactProSidebar.Menu, {
                      iconShape: "square",
                      key: String(0)
                    }), sidebarElements), React.createElement(ReactProSidebar.SidebarFooter, {
                  children: React.createElement(Remix.Link, {
                        to: "",
                        children: React.createElement(ReactProSidebar.MenuItem, {
                              children: React.createElement("img", {
                                    src: "/assets/brightid_reversed.svg"
                                  })
                            })
                      }),
                  className: "bg-extraDark bottom-0 sticky scrollbar-hide list-none"
                }));
}

var make = Sidebar;

export {
  ConnectButton ,
  make ,
}
/* react Not a pure module */
