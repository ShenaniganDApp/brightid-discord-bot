// Generated by ReScript, PLEASE EDIT WITH CARE

import * as Belt_Array from "../../../../node_modules/rescript/lib/es6/belt_Array.js";
import * as Caml_option from "../../../../node_modules/rescript/lib/es6/caml_option.js";
import * as InviteButton from "./InviteButton.js";
import * as React from "@remix-run/react";
import * as ReactProSidebar from "react-pro-sidebar";
import * as JsxRuntime from "react/jsx-runtime";

var ConnectButton = {};

function Sidebar(props) {
  var guilds = props.guilds;
  var icon = function (param) {
    var icon$1 = param.icon;
    if (icon$1 !== undefined) {
      return "https://cdn.discordapp.com/icons/" + param.id + "/" + icon$1 + ".png";
    } else {
      return "/assets/brightid_logo_white.png";
    }
  };
  var sidebarElements;
  if (props.loadingGuilds) {
    var intersection = Belt_Array.map(guilds, (function (guild) {
            return JsxRuntime.jsx(ReactProSidebar.Menu, {
                        children: Caml_option.some(JsxRuntime.jsx(ReactProSidebar.MenuItem, {
                                  children: Caml_option.some(JsxRuntime.jsx(React.Link, {
                                            className: "font-semibold text-xl",
                                            prefetch: "intent",
                                            to: "/guilds/" + guild.id + "",
                                            children: guild.name
                                          })),
                                  className: "bg-extraDark",
                                  icon: Caml_option.some(JsxRuntime.jsx("img", {
                                            className: " bg-extraDark rounded-lg border-1 border-white",
                                            src: icon(guild)
                                          }))
                                })),
                        iconShape: "square"
                      }, guild.id);
          }));
    var loading = Belt_Array.map(Belt_Array.range(0, 4), (function (i) {
            return JsxRuntime.jsx(ReactProSidebar.Menu, {
                        children: Caml_option.some(JsxRuntime.jsx(ReactProSidebar.MenuItem, {
                                  children: Caml_option.some(JsxRuntime.jsx("div", {
                                            children: JsxRuntime.jsx("div", {
                                                  className: "w-36 bg-gray-300 h-6 rounded-md "
                                                }),
                                            className: "flex flex-col space-y-3"
                                          })),
                                  className: "flex animate-pulse flex-row h-full bg-extraDark ",
                                  icon: Caml_option.some(JsxRuntime.jsx("img", {
                                            className: " bg-extraDark  rounded-lg",
                                            src: "/assets/brightid_logo_white.png"
                                          }))
                                })),
                        iconShape: "square"
                      }, String(i + 1 | 0));
          }));
    sidebarElements = Belt_Array.concat(intersection, loading);
  } else if (guilds.length !== 0) {
    var match = guilds.length;
    sidebarElements = match !== 0 ? Belt_Array.map(guilds, (function (guild) {
              return JsxRuntime.jsx(ReactProSidebar.Menu, {
                          children: Caml_option.some(JsxRuntime.jsx(ReactProSidebar.MenuItem, {
                                    children: Caml_option.some(JsxRuntime.jsx(React.Link, {
                                              className: "font-semibold text-xl",
                                              prefetch: "intent",
                                              to: "/guilds/" + guild.id + "",
                                              children: guild.name
                                            })),
                                    className: "bg-extraDark",
                                    icon: Caml_option.some(JsxRuntime.jsx("img", {
                                              className: " bg-extraDark rounded-lg border-1 border-white",
                                              src: icon(guild)
                                            }))
                                  })),
                          iconShape: "square"
                        }, guild.id);
            })) : JsxRuntime.jsx("p", {
            children: "No Guilds",
            className: "text-white"
          });
  } else {
    sidebarElements = JsxRuntime.jsx("p", {
          children: "Couldn't Load Discord Servers",
          className: "text-white"
        });
  }
  return JsxRuntime.jsxs(ReactProSidebar.ProSidebar, {
              children: [
                JsxRuntime.jsx(ReactProSidebar.SidebarHeader, {
                      children: Caml_option.some(JsxRuntime.jsx(InviteButton.make, {})),
                      className: "p-2 flex justify-around items-center top-0 sticky bg-dark z-10 scrollbar-hide"
                    }),
                JsxRuntime.jsxs(ReactProSidebar.SidebarContent, {
                      children: [
                        JsxRuntime.jsx(ReactProSidebar.Menu, {
                              iconShape: "square"
                            }, String(0)),
                        sidebarElements
                      ],
                      className: "scrollbar-hide"
                    }),
                JsxRuntime.jsx(ReactProSidebar.SidebarFooter, {
                      children: Caml_option.some(JsxRuntime.jsx(React.Link, {
                                to: "",
                                children: JsxRuntime.jsx(ReactProSidebar.MenuItem, {
                                      children: Caml_option.some(JsxRuntime.jsx("img", {
                                                src: "/assets/brightid_reversed.svg"
                                              }))
                                    })
                              })),
                      className: "bg-extraDark bottom-0 sticky scrollbar-hide list-none"
                    })
              ],
              className: "bg-dark scrollbar-hide",
              breakPoint: "md",
              onToggle: props.handleIsSidebarVisible,
              toggled: props.isSidebarVisible
            });
}

var make = Sidebar;

export {
  ConnectButton ,
  make ,
}
/* InviteButton Not a pure module */
