// Generated by ReScript, PLEASE EDIT WITH CARE
'use strict';

var Variants = require("../Discord/Variants.bs.js");
var Belt_Array = require("rescript/lib/js/belt_Array.js");
var Discord_Message = require("../Discord/Discord_Message.bs.js");
var Discord_Snowflake = require("../Discord/Discord_Snowflake.bs.js");
var UpdateOrReadGistJs = require("../updateOrReadGist.js");

function updateGist(prim0, prim1) {
  return UpdateOrReadGistJs.updateGist(prim0, prim1);
}

function invite(member, param, message) {
  var guild = Variants.wrapGuild(message.guild);
  var isAdmin = member.t.hasPermission("ADMINISTRATOR");
  if (isAdmin) {
    var inviteCommandArray = Discord_Message.validateContent(message.content).split(" ");
    var inviteLink = Belt_Array.get(inviteCommandArray, 1);
    if (inviteLink !== undefined) {
      UpdateOrReadGistJs.updateGist(Discord_Snowflake.validateSnowflake(guild.id), {
            inviteLink: inviteLink
          });
      message.t.reply("Succesfully update server invite link to " + inviteLink);
    } else {
      message.t.reply("Please Format your command like `!invite <invite link>`");
    }
  } else {
    message.t.reply("You do not have the admin privileges for this command");
  }
  return Promise.resolve(message.t);
}

exports.updateGist = updateGist;
exports.invite = invite;
/* Variants Not a pure module */
